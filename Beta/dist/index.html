<html>

<head>
    <title>Music</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/BeginPanel.eb88d7b9.css">
    <script src="/build.01a733f9.js"></script>
<script src="/BeginPanel.eb88d7b9.js"></script></head>

<body>
    <a-scene antialias="true">
        <a-assets>
            <a-mixin id="bar" geometry="primitive: box" material="color: black;opacity:0.5;"></a-mixin>
            <audio id="song" loop="" src="/traffic (prod. by nxghts) 150bpm.6da83771.mp3"></audio>
            <img id="play_button" src="/play.214f6e06.png">
            <img id="pause_button" src="/pause.a0c3b342.png">
            <img id="floor" src="/floor.db4a06fd.jpg">
            <img id="skyBox" src="/sky.c94b2330.jpg">
        </a-assets>

        <!-- Camera -->
        <a-entity id="camera" camera="userHeight: 1.6;" look-controls="" wasd-controls="enabled:true;" position="0 0 1.5" rotation="20 0 0">
            <a-entity raycaster="objects: .clickable" cursor="fuse: true; fuseTimeout: 500" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat"></a-entity>
        </a-entity>

 <!--

         Menu 
                <a-entity menu-item="analyserEl: #analyser; camera:#camera" position="0 2 -2" scale="0.75 0.75 1" id="menu" class="clickable"> 
                
                <a-text value="Levels" align="center" 
                material="shader:flat" 
                color="white" 
                wrap-count="20" 
                width="1" 
                side="double" 
                scale="1 1.3333333333333333 1" 
                position="0 0.08 0" 
                text=""></a-text>

                <a-text value="ZHeight Color" 
                align="center" 
                material="shader:flat" 
                color="white"
                 wrap-count="26"
                 width="1" 
                 side="double" 
                 scale="1 1.3333333333333333 1" 
                 position="0 -0.1 0" 
                 text=""></a-text>
                 <a-plane material="color:rgb(30, 30, 30);shader:flat;side:double;transparent:true;opacity:0.5" 
                 class="selectable" 
                 scale="1.431 1.431 3.848" 
                 geometry=""></a-plane>
                </a-entity>

                <a-entity menu-item="text:Waveform;subText:ZHeight Color Opacity" 
                position="-0.5 0 0" 
                scale="0.95 0.7125 0.95" 
                visible="false" 
                material="side:double;transparent:true;opacity:0.5">
                <a-text value="Waveform" align="center" 
                material="shader:flat" 
                color="white" 
                wrap-count="20" 
                width="1" 
                side="double" 
                scale="1 1.3333333333333333 1" 
                position="0 0.08 0" 
                text="" visible="false"></a-text>

                <a-text value="ZHeight Color Opacity" align="center" 
                material="shader:flat" 
                color="white" 
                wrap-count="26" 
                width="1" 
                side="double" 
                scale="1 1.3333333333333333 1" 
                position="0 -0.1 0" 
                text="" 
                visible="false"></a-text>
                <a-plane material="color:rgb(30, 30, 30);shader:flat;side:double;transparent:true;opacity:0.5" 
                class="selectable" 
                visible="false" 
                geometry=""></a-plane>
            </a-entity>
        </a-entity>
    
-->
   
        <a-entity menu="analyserEl: #analyser; camera:#camera" position="0 2 -2" scale="0.75 0.75 1" id="menu" class="clickable">
                <a-animation begin="shrink" attribute="position" to="0 1.8 -2" dur="1000" easing="ease-out"></a-animation>
                <a-animation begin="shrink" attribute="scale" to="0.5 0.5 1" dur="1000" easing="ease-out"></a-animation>
                <a-animation begin="grow" attribute="position" to="0 2 -2" dur="2000" easing="ease-out"></a-animation>
                <a-animation begin="grow" attribute="scale" to="0.75 0.75 1" dur="2000" easing="ease-out"></a-animation>
            </a-entity>
        


        <!-- Play button -->
        <a-entity class="clickable" playbutton="analyserEl: #analyser;playing:true; visible: true" position="0 1 -2" id="playButton" animate="attribute:scale; time:100;" rotation="90 0 0">
            <a-entity>
                <a-plane src="#pause_button" material="transparent: true" scale="0.9 0.9 0.9" position="0 0.52 0" rotation="-90 0 0"></a-plane>
                <a-circle class="selectable" material="color: white; shader: flat;" rotation="-90 0 0">
                    <a-animation begin="mouseenter" attribute="material.color" to="rgb(100, 100, 100)" dur="0"></a-animation>
                    <a-animation begin="mouseleave" attribute="material.color" to="white" dur="0"></a-animation>
                </a-circle>
                <a-cylinder material="color: rgb(80, 80, 80); shader: flat;" position="0 -0.52 0" rotation="0 0 0">
                </a-cylinder>
                <a-animation begin="mousedown" attribute="scale" to="1 0.5 1" dur="1000"></a-animation>
                <a-animation begin="mousedown" attribute="position" to="0 -0.5 0" dur="1000"></a-animation>
                <a-animation begin="mouseup" attribute="scale" to="1 1 1" dur="1000"></a-animation>
                <a-animation begin="mouseup" attribute="position" to="0 0 0" dur="1000"></a-animation>
            </a-entity>
        </a-entity>

        <!-- Analyser -->
        <a-entity id="analyser" audioanalyser="src: #song"></a-entity>
        
        <!-- Spectrum visualization. -->
        <a-entity levels-scale="analyserEl: #analyser; max: 50; multiplier: 0.06" entity-generator="mixin: bar;" layout="type: circle; radius: 20" rotation="0 180 0"></a-entity>

        <!-- Lights, sky, ground. -->
        <a-light type="ambient" position="0 0.5 0"></a-light>

        <a-sky src="#skyBox"></a-sky>
        <a-entity id="ground" geometry="primitive: circle; radius: 40" rotation="-90 0 0" material="src: #floor"></a-entity>

        <!-- Env. -->
        <!-- <a-entity snow-env="analyserEl: #analyser;"></a-entity> -->
    </a-scene>

    <!-- Begin Panel -->
    <div id="beginPanel">
        <span style="font-size: 5rem;margin-top: 5rem;flex:auto">Synethesia</span>
        <span style="font-size: 6rem;flex:auto;white-space: nowrap;">VR Audio Visualizer</span>
        <span style="font-size: 2rem;flex:auto;white-space: nowrap;">Use WASD keys to move, Arrow keys to rotate and click & drag to look around!</span>
        <div class="wrapper" id="wrapper" style="flex:auto;">
            <label class="button" for="file">
                Choose Song
                <input id="file" type="file">
            </label>
            <label class="button" id="beginBtn">Use sample music</label>
            <label class="button" id="singBtn">About</label>
        </div>
    </div>
</body>

</html>